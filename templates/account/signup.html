{% extends 'base.html' %}
{% load widget_tweaks %}
{% load crispy_forms_tags %}

{% block content %}

<div class="container m-4 p-4">
  <div class="row">
    <div class="col-md-8">
       <h3 class="text-center">Create an Accounts</h3>
       {% if messages %}
       {% for message in messages %}
       <div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
        <strong>{{ message }}</strong> You should check in on some of those fields below.
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
       {% endfor %}
       {% endif %}
       <form method="post">
        {% csrf_token %}
        {% for field in form %}
          <p>
            {{ field.label_tag }}<br>
            {{ field   }}
            {% if field.help_text %}
              <small style="color: grey">{{ field.help_text }}</small>
            {% endif %}
            {% for error in field.errors %}
              <p style="color: red">{{ error }}</p>
            {% endfor %}
          </p>
        {% endfor %}
        <button type="submit" class="btn btn-primary">Sign up</button>
      </form> 
      <p>if  you have accounts log in  <a href="{% url 'account:login' %}"> here </a> </p>
    </div>
  </div>
</div>

{% endblock %}